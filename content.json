{"meta":{"title":"Johny Blog","subtitle":"è®°å½•ç”Ÿæ´»ã€å·¥ä½œ","description":"ç›®å‰åœ¨æ·±åœ³å°±ä¸š","author":"Johny He","url":"https://www.johnyzone.com","root":"/"},"pages":[{"title":"ä¸ªäººç®€ä»‹","date":"2020-11-02T16:00:00.000Z","updated":"2021-05-13T08:38:30.000Z","comments":true,"path":"about/index.html","permalink":"https://www.johnyzone.com/about/index.html","excerpt":"","text":"ä¸ªäººç®€ä»‹å‡ºç”Ÿäºæ±Ÿè¥¿ï¼Œç›®å‰å·²æˆä¸ºæ·±åœ³æ¢¦æƒ³äººï¼Œç¤¾ç•œè¿‘ä¸ƒå¹´ä¹‹ä¹…ï¼Œä¸“æ³¨äºNginxã€MySQLã€PHPã€JSã€HTML/CSSã€å°ç¨‹åºç­‰æŠ€æœ¯æ ˆï¼Œæ¶‰åŠå¤–è´¸ä¾›åº”é“¾ç³»ç»Ÿã€æ”¿ä¼ä½æˆ¿ç§Ÿèµç³»ç»Ÿã€æ™ºæ…§å›­åŒºç‰©è”ç½‘ã€æ™ºæ…§ç‰©ä¸šç³»ç»Ÿã€ä¼ä¸šOAç­‰äº§å“ç ”å‘ï¼Œç›®å‰å°±èŒäºæ·±åœ³æŸå®¶ç½‘ç»œæœ‰é™å…¬å¸ï¼Œä¸»è¦è´Ÿè´£å…¬å¸æŠ€æœ¯ç®¡ç†ã€‚","author":"johny"},{"title":"æ–‡ç« åˆ†ç±»","date":"2020-11-01T16:00:00.000Z","updated":"2021-05-12T11:18:32.000Z","comments":true,"path":"categories/index.html","permalink":"https://www.johnyzone.com/categories/index.html","excerpt":"","text":"","author":"79bk.cn"},{"title":"tags","date":"2020-09-19T08:19:22.000Z","updated":"2021-05-12T11:17:12.000Z","comments":true,"path":"tags/index.html","permalink":"https://www.johnyzone.com/tags/index.html","excerpt":"","text":"","author":"johny"},{"title":"å‹æƒ…é“¾æ¥","date":"2020-09-18T16:00:00.000Z","updated":"2021-05-12T11:18:19.000Z","comments":true,"path":"links/index.html","permalink":"https://www.johnyzone.com/links/index.html","excerpt":"","text":"","author":"79bk.cn"}],"posts":[{"title":"rsnycæ–‡ä»¶åŠæ–‡ä»¶å¤¹å®æ—¶åŒæ­¥ç”¨æ³•","slug":"linux-rsync","date":"2021-05-27T07:00:30.000Z","updated":"2021-05-27T07:53:20.000Z","comments":true,"path":"2021/05/27/linux-rsync/","link":"","permalink":"https://www.johnyzone.com/2021/05/27/linux-rsync/","excerpt":"","text":"syncæ˜¯å¯ä»¥å®ç°å¢é‡å¤‡ä»½çš„å·¥å…·ã€‚é…åˆä»»åŠ¡è®¡åˆ’ï¼Œrsyncèƒ½å®ç°å®šæ—¶æˆ–é—´éš”åŒæ­¥ï¼Œé…åˆinotifyæˆ–sersyncï¼Œå¯ä»¥å®ç°è§¦å‘å¼çš„å®æ—¶åŒæ­¥ã€‚ å®‰è£…centoså‘½ä»¤ï¼š yum -y install rsync å‚æ•°è¯´æ˜ -vï¼šæ˜¾ç¤ºrsyncè¿‡ç¨‹ä¸­è¯¦ç»†ä¿¡æ¯ã€‚å¯ä»¥ä½¿ç”¨â€-vvvvâ€è·å–æ›´è¯¦ç»†ä¿¡æ¯ã€‚-Pï¼šæ˜¾ç¤ºæ–‡ä»¶ä¼ è¾“çš„è¿›åº¦ä¿¡æ¯ã€‚(å®é™…ä¸Šâ€-Pâ€=â€â€“partial â€“progressâ€ï¼Œå…¶ä¸­çš„â€â€“progressâ€æ‰æ˜¯æ˜¾ç¤ºè¿›åº¦ä¿¡æ¯çš„)ã€‚-n â€“dry-run ï¼šä»…æµ‹è¯•ä¼ è¾“ï¼Œè€Œä¸å®é™…ä¼ è¾“ã€‚å¸¸å’Œâ€-vvvvâ€é…åˆä½¿ç”¨æ¥æŸ¥çœ‹rsyncæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚-a â€“archive ï¼šå½’æ¡£æ¨¡å¼ï¼Œè¡¨ç¤ºé€’å½’ä¼ è¾“å¹¶ä¿æŒæ–‡ä»¶å±æ€§ã€‚ç­‰åŒäºâ€-rtopgDlâ€ã€‚-r â€“recursiveï¼šé€’å½’åˆ°ç›®å½•ä¸­å»ã€‚-t â€“timesï¼šä¿æŒmtimeå±æ€§ã€‚å¼ºçƒˆå»ºè®®ä»»ä½•æ—¶å€™éƒ½åŠ ä¸Šâ€-tâ€ï¼Œå¦åˆ™ç›®æ ‡æ–‡ä»¶mtimeä¼šè®¾ç½®ä¸ºç³»ç»Ÿæ—¶é—´ï¼Œå¯¼è‡´ä¸‹æ¬¡æ›´æ–°æ£€æŸ¥å‡ºmtimeä¸åŒä»è€Œå¯¼è‡´å¢é‡ä¼ è¾“æ— æ•ˆã€‚-o â€“ownerï¼šä¿æŒownerå±æ€§(å±ä¸»)ã€‚-g â€“groupï¼šä¿æŒgroupå±æ€§(å±ç»„)ã€‚-p â€“permsï¼šä¿æŒpermså±æ€§(æƒé™ï¼Œä¸åŒ…æ‹¬ç‰¹æ®Šæƒé™)ã€‚-Dï¼šæ˜¯â€â€“device â€“specialsâ€é€‰é¡¹çš„ç»„åˆï¼Œå³ä¹Ÿæ‹·è´è®¾å¤‡æ–‡ä»¶å’Œç‰¹æ®Šæ–‡ä»¶ã€‚-l â€“linksï¼šå¦‚æœæ–‡ä»¶æ˜¯è½¯é“¾æ¥æ–‡ä»¶ï¼Œåˆ™æ‹·è´è½¯é“¾æ¥æœ¬èº«è€Œéè½¯é“¾æ¥æ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚-zï¼šä¼ è¾“æ—¶è¿›è¡Œå‹ç¼©æé«˜æ•ˆç‡ã€‚-R â€“relativeï¼šä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚æ„å‘³ç€å°†å‘½ä»¤è¡Œä¸­æŒ‡å®šçš„å…¨è·¯å¾„è€Œéè·¯å¾„æœ€å°¾éƒ¨çš„æ–‡ä»¶åå‘é€ç»™æœåŠ¡ç«¯ï¼ŒåŒ…æ‹¬å®ƒä»¬çš„å±æ€§ã€‚ç”¨æ³•è§ä¸‹æ–‡ç¤ºä¾‹ã€‚â€“size-only ï¼šé»˜è®¤ç®—æ³•æ˜¯æ£€æŸ¥æ–‡ä»¶å¤§å°å’Œmtimeä¸åŒçš„æ–‡ä»¶ï¼Œä½¿ç”¨æ­¤é€‰é¡¹å°†åªæ£€æŸ¥æ–‡ä»¶å¤§å°ã€‚-u â€“update ï¼šä»…åœ¨æºmtimeæ¯”ç›®æ ‡å·²å­˜åœ¨æ–‡ä»¶çš„mtimeæ–°æ—¶æ‰æ‹·è´ã€‚æ³¨æ„ï¼Œè¯¥é€‰é¡¹æ˜¯æ¥æ”¶ç«¯åˆ¤æ–­çš„ï¼Œä¸ä¼šå½±å“åˆ é™¤è¡Œä¸ºã€‚-d â€“dirsï¼šä»¥ä¸é€’å½’çš„æ–¹å¼æ‹·è´ç›®å½•æœ¬èº«ã€‚é»˜è®¤é€’å½’æ—¶ï¼Œå¦‚æœæºä¸ºâ€dir1/file1â€ï¼Œåˆ™ä¸ä¼šæ‹·è´dir1ç›®å½•ï¼Œä½¿ç”¨è¯¥é€‰é¡¹å°†æ‹·è´dir1ä½†ä¸æ‹·è´file1ã€‚â€“max-size ï¼šé™åˆ¶rsyncä¼ è¾“çš„æœ€å¤§æ–‡ä»¶å¤§å°ã€‚å¯ä»¥ä½¿ç”¨å•ä½åç¼€ï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªå°æ•°å€¼(ä¾‹å¦‚ï¼šâ€â€“max-size=1.5mâ€)â€“min-size ï¼šé™åˆ¶rsyncä¼ è¾“çš„æœ€å°æ–‡ä»¶å¤§å°ã€‚è¿™å¯ä»¥ç”¨äºç¦æ­¢ä¼ è¾“å°æ–‡ä»¶æˆ–é‚£äº›åƒåœ¾æ–‡ä»¶ã€‚â€“exclude ï¼šæŒ‡å®šæ’é™¤è§„åˆ™æ¥æ’é™¤ä¸éœ€è¦ä¼ è¾“çš„æ–‡ä»¶ã€‚â€“delete ï¼šä»¥SRCä¸ºä¸»ï¼Œå¯¹DESTè¿›è¡ŒåŒæ­¥ã€‚å¤šåˆ™åˆ ä¹‹ï¼Œå°‘åˆ™è¡¥ä¹‹ã€‚æ³¨æ„â€â€“deleteâ€æ˜¯åœ¨æ¥æ”¶ç«¯æ‰§è¡Œçš„ï¼Œæ‰€ä»¥å®ƒæ˜¯åœ¨exclude/includeè§„åˆ™ç”Ÿæ•ˆä¹‹åæ‰æ‰§è¡Œçš„ã€‚-b â€“backup ï¼šå¯¹ç›®æ ‡ä¸Šå·²å­˜åœ¨çš„æ–‡ä»¶åšä¸€ä¸ªå¤‡ä»½ï¼Œå¤‡ä»½çš„æ–‡ä»¶ååé»˜è®¤ä½¿ç”¨â€~â€åšåç¼€ã€‚â€“backup-dirï¼šæŒ‡å®šå¤‡ä»½æ–‡ä»¶çš„ä¿å­˜è·¯å¾„ã€‚ä¸æŒ‡å®šæ—¶é»˜è®¤å’Œå¾…å¤‡ä»½æ–‡ä»¶ä¿å­˜åœ¨åŒä¸€ç›®å½•ä¸‹ã€‚-e ï¼šæŒ‡å®šæ‰€è¦ä½¿ç”¨çš„è¿œç¨‹shellç¨‹åºï¼Œé»˜è®¤ä¸ºsshã€‚â€“port ï¼šè¿æ¥daemonæ—¶ä½¿ç”¨çš„ç«¯å£å·ï¼Œé»˜è®¤ä¸º873ç«¯å£ã€‚â€“password-fileï¼šdaemonæ¨¡å¼æ—¶çš„å¯†ç æ–‡ä»¶ï¼Œå¯ä»¥ä»ä¸­è¯»å–å¯†ç å®ç°éäº¤äº’å¼ã€‚æ³¨æ„ï¼Œè¿™ä¸æ˜¯è¿œç¨‹shellè®¤è¯çš„å¯†ç ï¼Œè€Œæ˜¯rsyncæ¨¡å—è®¤è¯çš„å¯†ç ã€‚-W â€“whole-fileï¼šrsyncå°†ä¸å†ä½¿ç”¨å¢é‡ä¼ è¾“ï¼Œè€Œæ˜¯å…¨é‡ä¼ è¾“ã€‚åœ¨ç½‘ç»œå¸¦å®½é«˜äºç£ç›˜å¸¦å®½æ—¶ï¼Œè¯¥é€‰é¡¹æ¯”å¢é‡ä¼ è¾“æ›´é«˜æ•ˆã€‚â€“existing ï¼šè¦æ±‚åªæ›´æ–°ç›®æ ‡ç«¯å·²å­˜åœ¨çš„æ–‡ä»¶ï¼Œç›®æ ‡ç«¯è¿˜ä¸å­˜åœ¨çš„æ–‡ä»¶ä¸ä¼ è¾“ã€‚æ³¨æ„ï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„æ—¶å¦‚æœä¸Šå±‚ç›®å½•ä¸å­˜åœ¨ä¹Ÿä¸ä¼šä¼ è¾“ã€‚â€“ignore-existingï¼šè¦æ±‚åªæ›´æ–°ç›®æ ‡ç«¯ä¸å­˜åœ¨çš„æ–‡ä»¶ã€‚å’Œâ€â€“existingâ€ç»“åˆä½¿ç”¨æœ‰ç‰¹æ®ŠåŠŸèƒ½ã€‚â€“remove-source-filesï¼šè¦æ±‚åˆ é™¤æºç«¯å·²ç»æˆåŠŸä¼ è¾“çš„æ–‡ä»¶ã€‚ åŸºç¡€ç¤ºä¾‹å°†/workspace/v1æ‰€æœ‰æ–‡ä»¶åŠæ–‡ä»¶å¤¹æ‹·è´åˆ°192.168.0.2æœåŠ¡å™¨çš„/www/proç›®å½•ä¸‹ï¼ˆæå‰åœ¨ç›®æ ‡æœåŠ¡å™¨æ·»åŠ æºä¸»æœºä¸ºå…å¯†ç™»å½•ï¼‰ rsync -a /workspace/v1/ &#119;&#119;&#x77;&#x40;&#49;&#57;&#x32;&#x2e;&#x31;&#x36;&#x38;&#46;&#48;&#x2e;&#x32;:/www/pro/ å…·ä½“å…¶ä»–ç”¨æ³•ï¼Œå¯ä»¥å‚ç…§ä¸Šè¿°å‚æ•°é…ç½®ã€‚","categories":[{"name":"linuxæŠ€æœ¯","slug":"linuxæŠ€æœ¯","permalink":"https://www.johnyzone.com/categories/linux%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://www.johnyzone.com/tags/linux/"}]},{"title":"php8éƒ½æœ‰å“ªäº›æ–°ç‰¹æ€§å‘¢","slug":"php8","date":"2021-05-13T08:43:07.000Z","updated":"2021-05-13T08:54:26.000Z","comments":true,"path":"2021/05/13/php8/","link":"","permalink":"https://www.johnyzone.com/2021/05/13/php8/","excerpt":"","text":"æ–°ç‰¹æ€§ è”åˆç±»å‹ JIT å±æ€§ æ–°å¢staticè¿”å›ç±»å‹ æ–°å¢mixedç±»å‹ Throw è¡¨è¾¾å¼ å…è®¸å¯¹å¯¹è±¡ä½¿ç”¨ ::class å‚æ•°åˆ—è¡¨ä¸­çš„å°¾éƒ¨é€—å· ä»æ¥å£åˆ›å»ºDateTimeå¯¹è±¡ æ–°å¢Stringableæ¥å£ æ–°å¢str_contains()ï¼Œstr_starts_with()ï¼Œstr_ends_with()ï¼Œfdiv()ï¼Œget_debug_type()å‡½æ•° æ–°å¢get_resource_id() Traitsæ”¹è¿›ä¸­çš„æŠ½è±¡æ–¹æ³• ä¸²è”ä¼˜å…ˆçº§ æ›´ä¸¥æ ¼çš„ç®—æœ¯å’Œä½è¿ç®—ç±»å‹æ£€æŸ¥","categories":[{"name":"phpæŠ€æœ¯","slug":"phpæŠ€æœ¯","permalink":"https://www.johnyzone.com/categories/php%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"php8","slug":"php8","permalink":"https://www.johnyzone.com/tags/php8/"}]},{"title":"2021å¹´5æœˆ12æ—¥æ–°ç‰ˆä¸ªäººåšå®¢æ­£å¼èµ·èˆª","slug":"hello-world","date":"2021-05-12T06:35:58.000Z","updated":"2021-05-13T08:16:47.000Z","comments":true,"path":"2021/05/12/hello-world/","link":"","permalink":"https://www.johnyzone.com/2021/05/12/hello-world/","excerpt":"","text":"æˆ‘çš„åšå®¢ä»2012å¹´å¤§å­¦ ğŸ“ æ¯•ä¸šåå¼€å§‹ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œå½“æ—¶é‡‡ç”¨äº†PHP+MySQL+HTML+JavaScriptæŠ€æœ¯ï¼Œå†ç»5å¹´æ—¶é—´ï¼Œç›´åˆ°2018å¹´é—´å¿˜è®°äº†ç»­è´¹ï¼Œå¯¼è‡´äº‘æœåŠ¡å•†è‡ªåŠ¨é‡Šæ”¾äº†èµ„æºï¼Œæ‰€æœ‰çš„åšæ–‡æ•°æ®åŠèµ„æ–™å…¨éƒ¨ä¸¢å¤±ï¼ŒPSï¼šå®šæœŸå¤‡ä»½å¾ˆé‡è¦ï¼Œç›´åˆ°ç°åœ¨æ‰æ­£å¼å¼€å§‹ç­–åˆ’æ­å»ºï¼Œç»å†2å¤©çš„æŠ˜è…¾ï¼Œç»ˆäºæŠŠæ–°çš„åšå®¢ç»™æ­èµ·æ¥äº†ï¼Œå…¨æ–°ä¸Šçº¿ã€‚æœ¬åšå®¢ä¸»è¦ç”¨äºè®°å½•æœ¬äººåœ¨å·¥ä½œä¸­ã€ç”Ÿæ´»ä¸Šçš„è¶£äº‹åŠå¹²è´§ã€‚ä¿—è¯è¯´ï¼Œå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼Œé¿å…é‡å¤èµ°ä¹‹å‰èµ°è¿‡çš„å‘ã€‚å½“ç„¶ä¸Šçº¿è¿™ä¸ªåšå®¢ä¹Ÿæ˜¯ç›¸å½“äºå¼€é€šäº†ä¸å„å¤§ç½‘å‹çš„äº¤æµçª—å£ï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·æ¥è¿›è¡Œå„ç§å­¦ä¹ ä¸äº¤æµã€‚æœ€åï¼Œæ­å–œè‡ªå·±æ–°åšå®¢ä¸Šçº¿ï¼Œè‡´æ•¬é™ªä¼´æˆ‘å¤šå¹´çš„ç¬¬ä¸€ç‰ˆåšå®¢ã€‚ â€‹","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://www.johnyzone.com/categories/%E7%94%9F%E6%B4%BB/"}],"tags":[{"name":"åæ§½","slug":"åæ§½","permalink":"https://www.johnyzone.com/tags/%E5%90%90%E6%A7%BD/"},{"name":"æ–°ç‰ˆä¸Šçº¿","slug":"æ–°ç‰ˆä¸Šçº¿","permalink":"https://www.johnyzone.com/tags/%E6%96%B0%E7%89%88%E4%B8%8A%E7%BA%BF/"}]}],"categories":[{"name":"linuxæŠ€æœ¯","slug":"linuxæŠ€æœ¯","permalink":"https://www.johnyzone.com/categories/linux%E6%8A%80%E6%9C%AF/"},{"name":"phpæŠ€æœ¯","slug":"phpæŠ€æœ¯","permalink":"https://www.johnyzone.com/categories/php%E6%8A%80%E6%9C%AF/"},{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://www.johnyzone.com/categories/%E7%94%9F%E6%B4%BB/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://www.johnyzone.com/tags/linux/"},{"name":"php8","slug":"php8","permalink":"https://www.johnyzone.com/tags/php8/"},{"name":"åæ§½","slug":"åæ§½","permalink":"https://www.johnyzone.com/tags/%E5%90%90%E6%A7%BD/"},{"name":"æ–°ç‰ˆä¸Šçº¿","slug":"æ–°ç‰ˆä¸Šçº¿","permalink":"https://www.johnyzone.com/tags/%E6%96%B0%E7%89%88%E4%B8%8A%E7%BA%BF/"}]}